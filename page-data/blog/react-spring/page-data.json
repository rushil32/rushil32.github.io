{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/react-spring","webpackCompilationHash":"e61b10cecde379bc70f5","result":{"data":{"markdownRemark":{"html":"<h2>The Basics</h2>\n<ol>\n<li>Find it here - <a href=\"https://www.react-spring.io/\">https://www.react-spring.io/</a></li>\n<li>You'll need to install it (skipping this step makes the rest of it pretty complicated) -</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save-dev react-spring</code></pre></div>\n<ul>\n<li>And import it:</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useSpring<span class=\"token punctuation\">,</span> animated <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-spring\"</span></code></pre></div>\n<p>--split--</p>\n<h2>Simple Animation</h2>\n<p>You'll need to create an object that conforms to this API (<a href=\"https://www.react-spring.io/docs/hooks/api\">https://www.react-spring.io/docs/hooks/api</a>) so you can pass it to the animated element - </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> props <span class=\"token operator\">=</span> <span class=\"token function\">useSpring</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  opacity<span class=\"token punctuation\">:</span> show <span class=\"token operator\">?</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n  pointerEvents<span class=\"token punctuation\">:</span> show <span class=\"token operator\">?</span> <span class=\"token string\">'auto'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'none'</span><span class=\"token punctuation\">,</span> \n  <span class=\"token keyword\">from</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> \n    opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> \n    pointerEvents<span class=\"token punctuation\">:</span> <span class=\"token string\">'none'</span> \n  <span class=\"token punctuation\">}</span> \n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>This code snippet from a modal component essentially says that it should start at opacity 0 with no pointer events and animate to an opacity of 1 and regular pointer events. This creates a simple fade in fade out effect for a modal.</p>\n<p>--split--</p>\n<p>Wrap the element to be animated with a  <code class=\"language-text\">&lt;animated.div&gt;</code>  tag.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>animated<span class=\"token punctuation\">.</span>div style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>props<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>p<span class=\"token operator\">></span>This thing will fade <span class=\"token keyword\">in</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>p<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>animated<span class=\"token punctuation\">.</span>div<span class=\"token operator\">></span></code></pre></div>\n<p>Notice the object created in the last step is being passed in as a style object. ☝</p>\n<p>--split--</p>\n<h2>Trailing Animation</h2>\n<p>One use case the spring library handles really well is trailing animation - where one elements start and end time is dependent on another. Traditionally this was done using delays and duration values in CSS. Here's an example of trailing animation using React Spring - <a href=\"https://rushil32.github.io\">https://rushil32.github.io</a>.</p>\n<p>--split--</p>\n<h2>Create trailing animation -</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useTrail<span class=\"token punctuation\">,</span> animated <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-spring\"</span></code></pre></div>\n<p>Create a config, to be used with the animation - </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> mass<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> tension<span class=\"token punctuation\">:</span> <span class=\"token number\">2500</span><span class=\"token punctuation\">,</span> friction<span class=\"token punctuation\">:</span> <span class=\"token number\">200</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>--split--</p>\n<p>Create the trail object - </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> trail <span class=\"token operator\">=</span> <span class=\"token function\">useTrail</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  config<span class=\"token punctuation\">,</span>\n  opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n  transform<span class=\"token punctuation\">:</span> <span class=\"token string\">\"scale(1)\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">from</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> opacity<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> transform<span class=\"token punctuation\">:</span> <span class=\"token string\">\"scale(0.9)\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>--split--</p>\n<p>Map the trail list to each element -</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>trail<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">style<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>animated<span class=\"token punctuation\">.</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>items<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span> style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>style<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n    <span class=\"token punctuation\">{</span><span class=\"token function\">renderLink</span><span class=\"token punctuation\">(</span>items<span class=\"token punctuation\">[</span>index<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>animated<span class=\"token punctuation\">.</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"date":"August 07, 2019","path":"/blog/react-spring","title":"Animation with React Spring &#x1F3A9;","author":"Rushil Saraogi","category":"Animation"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}